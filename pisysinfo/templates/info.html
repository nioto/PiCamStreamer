<!DOCTYPE html>
{% extends "layout.html" %}

{% macro checkpercent(value, limit=80) -%} {%
    if value > limit %}<button class="button-warning pure-button">{{value}} %</button>{%
    else %}<button class="button-success pure-button">{{value}} %</button>{% endif
%}{%- endmacro %}


{% block title %}Informations{% endblock %}

{% block content %}
<div class="pure-g-r">
    <div class="pure-u-1-3">
        <p><h6>Hostname : </h6> {{ data.hostname }}</p>
        <p><h6>Procedd Up depuis : </h6> {{ data.prog_up_since }}</p>
        <p><h6>OS Up depuis : </h6> {{ data.host_up_since }}</p>
        <p><h6>OS Name : </h6> {{ data.osname }}</p>
        <p><h6>Mem : </h6> {{data.memtotal}} {{ checkpercent(data.mempercent) }}</p>
    </div>
    <div class="pure-u-1-3">
        <p><h6>IPs : </h6>
        <ul>
        {% for ip in data.ips %}
        <li>{{ ip }}</li>
                {% endfor %}
        </ul>
        </p>
    </div>
    <div class="pure-u-1-3">
        <div class="m-box">
          <h6>DD : </h6>
          <table class="pure-table pure-table-horizontal">
              <thead>
                  <tr>
                      <th>mounting point</th>
                      <th>fstype</th>
                      <th>Space</th>
                      <th>Used</th>
                  </tr>
              </thead>
        <tbody>
        {% for pt in data.partitions %}
        <tr>
            <td>{{ pt.mountpoint }}</td>
            <td>{{ pt.fstype }}</td>
            <td>{{ pt.ddtotal }}</td>
            <td>{{ checkpercent(pt.ddpercent) }}</td>
            </tr>
        {% endfor %}
        </tbody>
        </table>
        </div>
    </div>
</div>
{% endblock %}
